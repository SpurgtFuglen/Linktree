<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billund Kommune · Linktree</title>
    <link rel="icon" href="Byskjold.ico?">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        body::before {
            content: '';
            position: absolute;
            width: 600px;
            height: 600px;
            background: rgba(255, 255, 255, 0.12);
            border-radius: 50%;
            top: -100px;
            right: -150px;
            animation: floatBig 8s ease-in-out infinite;
        }

        body::after {
            content: '';
            position: absolute;
            width: 500px;
            height: 500px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            bottom: -100px;
            left: -100px;
            animation: floatBig 12s ease-in-out infinite reverse;
        }

        .orb-1 {
            position: absolute;
            width: 350px;
            height: 350px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
            top: 15%;
            left: 5%;
            animation: floatWide 10s ease-in-out infinite;
        }

        .orb-2 {
            position: absolute;
            width: 250px;
            height: 250px;
            background: rgba(255, 255, 255, 0.07);
            border-radius: 50%;
            top: 60%;
            right: 10%;
            animation: pulse 7s ease-in-out infinite;
        }

        .orb-3 {
            position: absolute;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 50%;
            bottom: 20%;
            right: 30%;
            animation: floatDiagonal 14s ease-in-out infinite;
        }

        .orb-4 {
            position: absolute;
            width: 180px;
            height: 180px;
            background: rgba(255, 255, 255, 0.09);
            border-radius: 50%;
            top: 40%;
            left: 60%;
            animation: floatSmall 6s ease-in-out infinite;
        }

        .orb-5 {
            position: absolute;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.07);
            border-radius: 50%;
            top: 25%;
            right: 20%;
            animation: pulse 9s ease-in-out infinite 2s;
        }

        .orb-6 {
            position: absolute;
            width: 220px;
            height: 220px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
            bottom: 35%;
            left: 25%;
            animation: floatWide 11s ease-in-out infinite reverse;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            pointer-events: none;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) translateX(var(--drift));
                opacity: 0;
            }
        }

        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 6px;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            padding: 6px;
            border-radius: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .lang-btn {
            padding: 8px;
            border: none;
            border-radius: 30px;
            background: transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .lang-btn img {
            width: 20px;
            height: 16px;
            border-radius: 4px;
            display: block;
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.05);
        }

        .lang-btn.active {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            transform: scale(1.1);
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.4);
                opacity: 0.2;
            }
        }

        @keyframes floatBig {
            0%, 100% {
                transform: translate(0, 0);
            }
            33% {
                transform: translate(30px, -40px);
            }
            66% {
                transform: translate(-20px, 30px);
            }
        }

        @keyframes floatWide {
            0%, 100% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(50px, 30px);
            }
            50% {
                transform: translate(30px, -50px);
            }
            75% {
                transform: translate(-40px, 20px);
            }
        }

        @keyframes floatDiagonal {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            50% {
                transform: translate(-60px, -60px) rotate(180deg);
            }
        }

        @keyframes floatSmall {
            0%, 100% {
                transform: translate(0, 0);
            }
            33% {
                transform: translate(-30px, 40px);
            }
            66% {
                transform: translate(40px, -30px);
            }
        }

        .container {
            max-width: 680px;
            width: 100%;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .logo-container {
            margin-bottom: 24px;
            animation: fadeIn 0.6s ease-out;
        }

        .logo {
            width: auto;
            max-width: 280px;
            height: auto;
            display: inline-block;
            margin-bottom: 16px;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
        }

        .logo img {
            width: 100%;
            height: auto;
            display: block;
        }

        .company-name {
            font-size: 18px;
            font-weight: 700;
            color: white;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .tagline {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 36px;
            transition: opacity 0.3s ease;
            min-height: 21px;
        }

        .tagline::after {
            content: '|';
            animation: blink 1s infinite;
            opacity: 0;
        }

        .tagline.typing::after {
            opacity: 1;
        }

        @keyframes blink {
            0%, 49% {
                opacity: 1;
            }
            50%, 100% {
                opacity: 0;
            }
        }

        .links {
            display: flex;
            flex-direction: column;
            gap: 16px;
            animation: slideUp 0.8s ease-out;
        }

        .link-button {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 18px 28px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: none;
            border-radius: 50px;
            text-decoration: none;
            color: #4a5568;
            font-weight: 600;
            font-size: 15px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            width: 75%;
            margin: 0 auto;
        }

        .link-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 0;
        }

        .link-button:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 16px 32px rgba(0, 0, 0, 0.3);
            background: rgb(118, 166, 255);
        }

        .link-button:hover::before {
            opacity: 0.15;
        }

        .link-button:active {
            transform: translateY(-2px) scale(0.98);
        }

        .link-icon {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 4px;
            position: relative;
            z-index: 1;
        }

        .link-icon.material-symbols-outlined {
            font-size: 24px;
            color: #667eea;
        }

        .link-text {
            position: relative;
            z-index: 1;
            font-weight: 600;
            font-size: 17px;
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .link-button:hover .link-text {
            color: #2d3748;
            transform: translateX(5px);
        }

        .footer {
            margin-top: 48px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
            animation: fadeIn 1s ease-out;
        }

        .contact-section {
            margin-top: 40px;
            padding: 24px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            animation: fadeIn 1.2s ease-out;
            transition: transform 0.3s ease, background 0.3s ease;
        }

        .contact-section:hover {
            transform: scale(1.02);
            background: rgba(255, 255, 255, 0.2);
        }

        .contact-title {
            font-size: 16px;
            font-weight: 700;
            color: white;
            margin-bottom: 16px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.95);
            font-size: 14px;
        }

        .contact-icon {
            margin-right: 8px;
            font-size: 20px;
        }

        .contact-item-content {
            display: flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.2s ease;
            cursor: pointer;
        }

        .contact-item-content:hover {
            transform: scale(1.08) translateX(5px);
        }

        .contact-item a {
            color: rgba(255, 255, 255, 0.95);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-item-content:hover a {
            color: white;
            text-decoration: underline;
        }

        .copy-btn {
            opacity: 0;
            margin-left: 8px;
            padding: 4px 8px;
            background: rgba(255, 255, 255, 0.3);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .copy-btn .material-symbols-outlined {
            font-size: 18px;
        }

        .contact-item-content:hover .copy-btn {
            opacity: 1;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.1);
        }

        .copy-btn:active {
            transform: scale(0.95);
        }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(40, 40, 40, 0.95);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            opacity: 0;
            transition: all 0.4s ease;
            z-index: 2000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .hours-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 1001;
            color: #667eea;
        }

        .hours-fab .material-symbols-outlined {
            font-size: 32px;
        }

        .hours-fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .hours-fab:active {
            transform: scale(0.95);
        }

        .hours-popup {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 320px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: scale(0) translateY(20px);
            transform-origin: bottom right;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            pointer-events: none;
        }

        .hours-popup.open {
            opacity: 1;
            transform: scale(1) translateY(0);
            pointer-events: all;
        }

        .hours-title {
            font-size: 18px;
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 16px;
            text-align: center;
        }

        .hours-grid {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 10px;
            color: #4a5568;
            font-size: 14px;
        }

        .hours-day {
            font-weight: 600;
            text-align: left;
        }

        .hours-time {
            text-align: right;
        }

        .hours-day.today {
            color: #667eea;
        }

        .hours-time.today {
            color: #667eea;
            font-weight: 700;
        }

        @media (max-width: 480px) {
            .hours-fab {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 24px;
            }

            .hours-popup {
                bottom: 80px;
                right: 20px;
                width: calc(100vw - 40px);
                max-width: 320px;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 480px) {
            .logo {
                max-width: 200px;
            }

            .link-button {
                font-size: 14px;
                padding: 16px 24px;
            }

            .language-switcher {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <div class="language-switcher">
        <button class="lang-btn active" data-lang="da">
            <img src="dk-flag.png" alt="Danish">
        </button>
        <button class="lang-btn" data-lang="en">
            <img src="gb-flag.png" alt="English">
        </button>
        <button class="lang-btn" data-lang="de">
            <img src="de-flag.png" alt="German">
        </button>
    </div>

    <div class="orb-1"></div>
    <div class="orb-2"></div>
    <div class="orb-3"></div>
    <div class="orb-4"></div>
    <div class="orb-5"></div>
    <div class="orb-6"></div>
    
    <div class="container">
        <div class="logo-container">
            <div class="logo">
                <img src="logo.png" alt="Billund Kommune Logo">
            </div>
            <div class="company-name">Billund Kommune</div>
            <div class="tagline" data-da="Hjemsted for Børnenes Hovedstad" data-en="Home of the Capital of Children" data-de="Die Heimat der Kinderhauptstadt"></div>
        </div>

        <div class="links">
            <a href="https://www.billund.dk" class="link-button" target="_blank" rel="noopener noreferrer">
                <img src="https://www.google.com/s2/favicons?domain=billund.dk&sz=64" alt="Billund Kommune" class="link-icon">
                <span class="link-text" data-da="Billund Kommunes hjemmeside" data-en="Billund Municipality Website" data-de="Offizielle Website der Billund Kommune">Billund Kommunes hjemmeside</span>
            </a>
            
            <a href="https://www.facebook.com" class="link-button" target="_blank" rel="noopener noreferrer">
                <img src="https://www.google.com/s2/favicons?domain=facebook.com&sz=64" alt="Facebook" class="link-icon">
                <span class="link-text">Facebook</span>
            </a>
            
            <a href="https://www.linkedin.com" class="link-button" target="_blank" rel="noopener noreferrer">
                <img src="https://www.google.com/s2/favicons?domain=linkedin.com&sz=64" alt="LinkedIn" class="link-icon">
                <span class="link-text">LinkedIn</span>
            </a>
            
            <a href="https://x.com/Billundkommune" class="link-button" target="_blank" rel="noopener noreferrer">
                <img src="https://www.google.com/s2/favicons?domain=x.com&sz=64" alt="X" class="link-icon">
                <span class="link-text">X (Twitter)</span>
            </a>
        </div>

        <div class="contact-section">
            <div class="contact-title" data-da="Kontakt os!" data-en="Contact us!" data-de="Kontaktieren Sie uns!">Kontakt os!</div>
            <div class="contact-info">
                <div class="contact-item">
                    <span class="contact-item-content">
                        <span class="material-symbols-outlined contact-icon">mail</span>
                        <a href="mailto:kommunen@billund.dk">Kommunen@Billund.dk</a>
                        <button class="copy-btn" onclick="copyToClipboard('kommunen@billund.dk', 'Email')">
                            <span class="material-symbols-outlined">content_copy</span>
                        </button>
                    </span>
                </div>
                <div class="contact-item">
                    <span class="contact-item-content">
                        <span class="material-symbols-outlined contact-icon">phone</span>
                        <a href="tel:+4579727200">+45 79 72 72 00</a>
                        <button class="copy-btn" onclick="copyToClipboard('+45 79 72 72 00', 'Phone')">
                            <span class="material-symbols-outlined">content_copy</span>
                        </button>
                    </span>
                </div>
                <div class="contact-item">
                    <span class="contact-item-content">
                        <span class="material-symbols-outlined contact-icon">location_on</span>
                        <a href="https://maps.google.com/?q=jorden rundt 1, 7200 Grindsted" target="_blank" rel="noopener noreferrer">Jorden Rundt 1 · 7200 Grindsted · Danmark</a> 
                        <button class="copy-btn" onclick="copyToClipboard('Jorden Rundt 1, 7200 Grindsted, Danmark', 'Address')">
                            <span class="material-symbols-outlined">content_copy</span>
                        </button>
                    </span>
                </div>
            </div>
        </div>

        <div class="footer" data-da="Lavet med ❤️ af Billund Kommune" data-en="Made with ❤️ by Billund Municipality" data-de="Mit ❤️ erstellt von der Billund Kommune">Lavet med ❤️ af Billund Kommune</div>
    </div>

    <!-- Opening Hours FAB -->
    <button class="hours-fab" id="hoursFab" onclick="toggleHours()">
        <span class="material-symbols-outlined">calendar_clock</span>
    </button>
    
    <div class="hours-popup" id="hoursPopup">
        <div class="hours-title" data-da="Åbningstider" data-en="Opening Hours" data-de="Öffnungszeiten">Åbningstider</div>
        <div class="hours-grid" id="hoursGrid">
            <div class="hours-day" data-da="Mandag" data-en="Monday" data-de="Montag">Mandag</div>
            <div class="hours-time" data-da="08:00 - 15:30" data-en="8:00 AM - 3:30 PM" data-de="08:00 - 15:30">08:00 - 15:30</div>
            
            <div class="hours-day" data-da="Tirsdag" data-en="Tuesday" data-de="Dienstag">Tirsdag</div>
            <div class="hours-time" data-da="08:00 - 15:30" data-en="8:00 AM - 3:30 PM" data-de="08:00 - 15:30">08:00 - 15:30</div>
            
            <div class="hours-day" data-da="Onsdag" data-en="Wednesday" data-de="Mittwoch">Onsdag</div>
            <div class="hours-time" data-da="08:00 - 15:30" data-en="8:00 AM - 3:30 PM" data-de="08:00 - 15:30">08:00 - 15:30</div>
            
            <div class="hours-day" data-da="Torsdag" data-en="Thursday" data-de="Donnerstag">Torsdag</div>
            <div class="hours-time" data-da="08:00 - 17:00" data-en="8:00 AM - 5:00 PM" data-de="08:00 - 17:00">08:00 - 17:00</div>
            
            <div class="hours-day" data-da="Fredag" data-en="Friday" data-de="Freitag">Fredag</div>
            <div class="hours-time" data-da="08:00 - 12:00" data-en="8:00 AM - 12:00 PM" data-de="08:00 - 12:00">08:00 - 12:00</div>
            
            <div class="hours-day" data-da="Weekend" data-en="Weekend" data-de="Wochenende">Weekend</div>
            <div class="hours-time" data-da="Lukket" data-en="Closed" data-de="Geschlossen">Lukket</div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Typing animation
        let typingTimeout;
        
        function typeText(element, text, speed = 80) {
            return new Promise((resolve) => {
                element.classList.add('typing');
                element.textContent = '';
                let i = 0;
                
                function type() {
                    if (i < text.length) {
                        element.textContent += text.charAt(i);
                        i++;
                        typingTimeout = setTimeout(type, speed);
                    } else {
                        setTimeout(() => {
                            element.classList.remove('typing');
                            resolve();
                        }, 500);
                    }
                }
                
                type();
            });
        }

        function deleteText(element) {
            return new Promise((resolve) => {
                // Add smooth fade out and blur effect
                element.style.transition = 'opacity 0.4s ease, filter 0.4s ease';
                element.style.opacity = '0';
                element.style.filter = 'blur(5px)';
                
                setTimeout(() => {
                    element.textContent = '';
                    element.style.opacity = '1';
                    element.style.filter = 'blur(0px)';
                    resolve();
                }, 400);
            });
        }

        // Particle system
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random size between 2-6px
                const size = Math.random() * 4 + 2;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                // Random horizontal position
                particle.style.left = Math.random() * 100 + '%';
                
                // Start from bottom
                particle.style.bottom = '-10px';
                
                // Random animation duration (15-30 seconds)
                const duration = Math.random() * 15 + 15;
                particle.style.animation = `particleFloat ${duration}s linear infinite`;
                
                // Random delay
                const delay = Math.random() * 10;
                particle.style.animationDelay = `-${delay}s`;
                
                // Random horizontal drift
                const drift = (Math.random() - 0.5) * 100;
                particle.style.setProperty('--drift', drift + 'px');
                
                particlesContainer.appendChild(particle);
            }
        }

        createParticles();

        // Copy to clipboard function
        function copyToClipboard(text, type) {
            navigator.clipboard.writeText(text).then(() => {
                const messages = {
                    da: { Email: 'Email', Phone: 'Telefonnummer', Address: 'Adresse' },
                    en: { Email: 'Email', Phone: 'Phone', Address: 'Address' },
                    de: { Email: 'E-Mail', Phone: 'Telefonnummer', Address: 'Adresse' }
                };
                const copiedText = {
                    da: 'kopieret!',
                    en: 'copied!',
                    de: 'kopiert!'
                };
                showToast(`${messages[currentLang][type]} ${copiedText[currentLang]}`);
                createConfetti();
            });
        }

        // Create confetti effect
        function createConfetti() {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 1 },
                colors: ['#667eea', '#764ba2', '#ffd700', '#ff6b9d', '#4ecdc4', '#95e1d3'],
                gravity: 0.8,
                ticks: 200,
                startVelocity: 30,
                shapes: ['circle', 'square'],
                scalar: 1.2
            });
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // Highlight today in opening hours
        function highlightToday() {
            const days = ['Weekend', 'Mandag', 'Tirsdag', 'Onsdag', 'Torsdag', 'Fredag', 'Weekend'];
            const today = new Date().getDay(); // 0 = Sunday, 1 = Monday, etc.
            
            const hoursGrid = document.getElementById('hoursGrid');
            const dayElements = hoursGrid.querySelectorAll('.hours-day');
            const timeElements = hoursGrid.querySelectorAll('.hours-time');
            
            dayElements.forEach((dayEl, index) => {
                const dayName = days[today];
                const currentDayName = dayEl.getAttribute('data-da');
                
                if (currentDayName === dayName) {
                    dayEl.classList.add('today');
                    timeElements[index].classList.add('today');
                }
            });
        }

        highlightToday();

        // Toggle opening hours popup
        function toggleHours() {
            const popup = document.getElementById('hoursPopup');
            popup.classList.toggle('open');
        }

        // Close popup when clicking outside
        document.addEventListener('click', (e) => {
            const popup = document.getElementById('hoursPopup');
            const fab = document.getElementById('hoursFab');
            
            if (!popup.contains(e.target) && !fab.contains(e.target)) {
                popup.classList.remove('open');
            }
        });

        // Language switcher
        const translations = {
            da: {
                tagline: 'Hjemsted for Børnenes Hovedstad',
                website: 'Billund Kommunes hjemmeside',
                contact: 'Kontakt os!',
                footer: 'Lavet med ❤️ af Billund Kommune'
            },
            en: {
                tagline: 'Home of the Capital of Children',
                website: 'Billund Municipality Website',
                contact: 'Contact us!',
                footer: 'Made with ❤️ by Billund Municipality'
            },
            de: {
                tagline: 'Heimat der Hauptstadt der Kinder',
                website: 'Billund Kommune Webseite',
                contact: 'Kontaktieren Sie uns!',
                footer: 'Erstellt mit ❤️ von Billund Kommune'
            }
        };

        let currentLang = 'da';

        async function switchLanguage(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;

            // Update active button immediately
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });

            // Handle tagline deletion at the same time as other elements blur
            const taglineEl = document.querySelector('.tagline');
            const taglineText = taglineEl.getAttribute(`data-${lang}`);
            
            // Clear any existing typing timeout
            if (typingTimeout) {
                clearTimeout(typingTimeout);
            }

            // Start tagline deletion immediately
            const taglineDeletePromise = deleteText(taglineEl);

            // Animate all other elements with blur effect
            const elementsToBlur = document.querySelectorAll('[data-da]:not(.tagline)');
            
            // Only fade icons for elements that have translatable text (have data-da attribute)
            const iconsToFade = [];
            elementsToBlur.forEach(el => {
                // Find the icon within the same parent link button
                const linkButton = el.closest('.link-button');
                if (linkButton) {
                    const icon = linkButton.querySelector('.link-icon');
                    if (icon && !iconsToFade.includes(icon)) {
                        iconsToFade.push(icon);
                    }
                }
            });
            
            // Fade out only the icons that need to change
            iconsToFade.forEach(icon => {
                icon.style.transition = 'opacity 0.5s ease';
                icon.style.opacity = '0';
            });
            
            elementsToBlur.forEach(el => {
                // Add blur and fade out (slower transition)
                el.style.transition = 'filter 0.5s ease, opacity 0.5s ease';
                el.style.filter = 'blur(10px)';
                el.style.opacity = '0';
                
                setTimeout(() => {
                    // Change text while blurred - check if element has data attribute for current language
                    const newText = el.getAttribute(`data-${lang}`);
                    if (newText) {
                        el.textContent = newText;
                    }
                    
                    // Blur in and fade in
                    el.style.filter = 'blur(0px)';
                    el.style.opacity = '1';
                }, 500);
            });

            // Fade icons back in after text changes
            setTimeout(() => {
                iconsToFade.forEach(icon => {
                    icon.style.opacity = '1';
                });
            }, 500);

            // Wait for deletion to complete, then type new tagline
            await taglineDeletePromise;
            await typeText(taglineEl, taglineText);
        }

        // Language switcher event listeners
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                switchLanguage(btn.dataset.lang);
            });
        });

        // Initial typing animation on page load
        window.addEventListener('load', () => {
            const taglineEl = document.querySelector('.tagline');
            const initialText = taglineEl.getAttribute('data-da');
            typeText(taglineEl, initialText);
        });
    </script>
</body>
</html>




